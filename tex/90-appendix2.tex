\chapter{Пример 1 -- ограничения и подстановки}
\label{cha:appendix2}

\begin{minted}[linenos=true, breaklines]{js}
const constraints = [
    {
        "identifier": {
            "name": "OS"
        },
        "scope": {
            "index": 0,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "OS"
        },
        "scope": {
            "index": 1,
            "type": "scope"
        }
    },
    {
        "identifier": {
            "name": "Filesystem"
        },
        "scope": {
            "index": 1,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "Filesystem"
        },
        "scope": {
            "index": 2,
            "type": "scope"
        }
    },
    {
        "from": {
            "index": 2,
            "type": "scope"
        },
        "to": {
            "index": 1,
            "type": "scope"
        },
        "label": "parent"
    },
    {
        "identifier": {
            "name": "csharp.csproj",
            "source": {
                "uri": "examples/Example 1/CSharp/CSharp.csproj"
            }
        },
        "scope": {
            "index": 2,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "csharp.csproj",
            "source": {
                "uri": "examples/Example 1/CSharp/CSharp.csproj"
            }
        },
        "scope": {
            "index": 3,
            "type": "scope"
        }
    },
    {
        "from": {
            "index": 3,
            "type": "scope"
        },
        "to": {
            "index": 2,
            "type": "scope"
        },
        "label": "parent"
    },
    {
        "identifier": {
            "name": "Example 1/VB/VB.vbproj",
            "source": {
                "uri": "examples/Example 1/CSharp/CSharp.csproj",
                "range": {
                    "start": {
                        "line": 4,
                        "character": 32
                    },
                    "end": {
                        "line": 4,
                        "character": 47
                    }
                }
            }
        },
        "scope": {
            "index": 3,
            "type": "scope"
        },
        "usage": "reference"
    },
    {
        "identifier": {
            "name": "Class1.vb",
            "source": {
                "uri": "Example 1/VB/Class1.vb"
            }
        },
        "scope": {
            "index": 2,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "Class1.vb",
            "source": {
                "uri": "Example 1/VB/Class1.vb"
            }
        },
        "scope": {
            "index": 4,
            "type": "scope"
        }
    },
    {
        "from": {
            "index": 4,
            "type": "scope"
        },
        "to": {
            "index": 2,
            "type": "scope"
        },
        "label": "parent"
    },
    {
        "identifier": {
            "name": "VB",
            "source": {
                "uri": "Example 1/VB/Class1.vb",
                "range": {
                    "start": {
                        "line": 1,
                        "character": 1
                    },
                    "end": {
                        "line": 1,
                        "character": 1
                    }
                },
                "language": "Visual Basic"
            }
        },
        "scope": {
            "index": 4,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "VB",
            "source": {
                "uri": "Example 1/VB/Class1.vb",
                "range": {
                    "start": {
                        "line": 1,
                        "character": 1
                    },
                    "end": {
                        "line": 1,
                        "character": 1
                    }
                },
                "language": "Visual Basic"
            }
        },
        "scope": {
            "index": 5,
            "type": "scope"
        }
    },
    {
        "from": {
            "index": 5,
            "type": "scope"
        },
        "to": {
            "index": 4,
            "type": "scope"
        },
        "label": "parent"
    },
    {
        "identifier": {
            "name": "BaseVB",
            "source": {
                "uri": "Example 1/VB/Class1.vb",
                "range": {
                    "start": {
                        "line": 1,
                        "character": 14
                    },
                    "end": {
                        "line": 1,
                        "character": 20
                    }
                },
                "language": "Visual Basic"
            }
        },
        "scope": {
            "index": 5,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "BaseVB",
            "source": {
                "uri": "Example 1/VB/Class1.vb",
                "range": {
                    "start": {
                        "line": 1,
                        "character": 14
                    },
                    "end": {
                        "line": 1,
                        "character": 20
                    }
                },
                "language": "Visual Basic"
            }
        },
        "type": {
            "index": 6,
            "type": "tau"
        }
    },
    {
        "lhs": {
            "index": 6,
            "type": "tau"
        },
        "rhs": "BaseVB"
    },
    {
        "declaration": {
            "name": "BaseVB",
            "source": {
                "uri": "Example 1/VB/Class1.vb",
                "range": {
                    "start": {
                        "line": 1,
                        "character": 14
                    },
                    "end": {
                        "line": 1,
                        "character": 20
                    }
                },
                "language": "Visual Basic"
            }
        },
        "scope": {
            "index": 7,
            "type": "scope"
        }
    },
    {
        "identifier": {
            "name": "field",
            "source": {
                "uri": "Example 1/VB/Class1.vb",
                "range": {
                    "start": {
                        "line": 2,
                        "character": 12
                    },
                    "end": {
                        "line": 2,
                        "character": 17
                    }
                },
                "language": "Visual Basic"
            }
        },
        "scope": {
            "index": 7,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "field",
            "source": {
                "uri": "Example 1/VB/Class1.vb",
                "range": {
                    "start": {
                        "line": 2,
                        "character": 12
                    },
                    "end": {
                        "line": 2,
                        "character": 17
                    }
                },
                "language": "Visual Basic"
            }
        },
        "type": {
            "index": 8,
            "type": "tau"
        }
    },
    {
        "lhs": {
            "index": 8,
            "type": "tau"
        },
        "rhs": "Integer"
    },
    {
        "identifier": {
            "name": "Program.cs",
            "source": {
                "uri": "Example 1/CSharp/Program.cs"
            }
        },
        "scope": {
            "index": 2,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "Program.cs",
            "source": {
                "uri": "Example 1/CSharp/Program.cs"
            }
        },
        "scope": {
            "index": 9,
            "type": "scope"
        }
    },
    {
        "from": {
            "index": 9,
            "type": "scope"
        },
        "to": {
            "index": 2,
            "type": "scope"
        },
        "label": "parent"
    },
    {
        "identifier": {
            "name": "CSharp",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 3,
                        "character": 11
                    },
                    "end": {
                        "line": 3,
                        "character": 17
                    }
                },
                "language": "C#"
            }
        },
        "scope": {
            "index": 9,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "CSharp",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 3,
                        "character": 11
                    },
                    "end": {
                        "line": 3,
                        "character": 17
                    }
                },
                "language": "C#"
            }
        },
        "scope": {
            "index": 10,
            "type": "scope"
        }
    },
    {
        "from": {
            "index": 10,
            "type": "scope"
        },
        "to": {
            "index": 9,
            "type": "scope"
        },
        "label": "parent"
    },
    {
        "identifier": {
            "name": "A",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 5,
                        "character": 11
                    },
                    "end": {
                        "line": 5,
                        "character": 12
                    }
                },
                "language": "C#"
            }
        },
        "scope": {
            "index": 10,
            "type": "scope"
        },
        "usage": "declaration"
    },
    {
        "declaration": {
            "name": "A",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 5,
                        "character": 11
                    },
                    "end": {
                        "line": 5,
                        "character": 12
                    }
                },
                "language": "C#"
            }
        },
        "scope": {
            "index": 11,
            "type": "scope"
        }
    },
    {
        "identifier": {
            "name": "VB",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 5,
                        "character": 15
                    },
                    "end": {
                        "line": 5,
                        "character": 15
                    }
                },
                "language": "C#"
            }
        },
        "scope": {
            "index": 11,
            "type": "scope"
        },
        "usage": "reference"
    },
    {
        "reference": {
            "name": "VB",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 5,
                        "character": 15
                    },
                    "end": {
                        "line": 5,
                        "character": 15
                    }
                },
                "language": "C#"
            }
        },
        "declaration": {
            "index": 12,
            "type": "delta"
        }
    },
    {
        "declaration": {
            "index": 12,
            "type": "delta"
        },
        "scope": {
            "index": 13,
            "type": "sigma"
        }
    },
    {
        "from": {
            "index": 13,
            "type": "sigma"
        },
        "to": {
            "index": 14,
            "type": "scope"
        },
        "label": "import"
    },
    {
        "identifier": {
            "name": "BaseVB",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 5,
                        "character": 15
                    },
                    "end": {
                        "line": 5,
                        "character": 21
                    }
                },
                "language": "C#"
            }
        },
        "scope": {
            "index": 14,
            "type": "scope"
        },
        "usage": "reference"
    },
    {
        "reference": {
            "name": "BaseVB",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 5,
                        "character": 15
                    },
                    "end": {
                        "line": 5,
                        "character": 21
                    }
                },
                "language": "C#"
            }
        },
        "declaration": {
            "index": 15,
            "type": "delta"
        }
    },
    {
        "declaration": {
            "index": 15,
            "type": "delta"
        },
        "scope": {
            "index": 16,
            "type": "sigma"
        }
    },
    {
        "from": {
            "index": 16,
            "type": "sigma"
        },
        "to": {
            "index": 11,
            "type": "scope"
        },
        "label": "import"
    },
    {
        "identifier": {
            "name": "field",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 9,
                        "character": 13
                    },
                    "end": {
                        "line": 9,
                        "character": 18
                    }
                },
                "language": "C#"
            }
        },
        "scope": {
            "index": 11,
            "type": "scope"
        },
        "usage": "reference"
    },
    {
        "declaration": {
            "name": "field",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 9,
                        "character": 13
                    },
                    "end": {
                        "line": 9,
                        "character": 18
                    }
                },
                "language": "C#"
            }
        },
        "type": {
            "index": 17,
            "type": "tau"
        }
    },
    {
        "lhs": {
            "index": 17,
            "type": "tau"
        },
        "rhs": "Integer"
    },
    {
        "identifier": {
            "name": "field",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 13,
                        "character": 43
                    },
                    "end": {
                        "line": 13,
                        "character": 52
                    }
                },
                "language": "C#"
            }
        },
        "scope": {
            "index": 11,
            "type": "scope"
        },
        "usage": "reference"
    },
    {
        "declaration": {
            "name": "field",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 13,
                        "character": 43
                    },
                    "end": {
                        "line": 13,
                        "character": 52
                    }
                },
                "language": "C#"
            }
        },
        "type": {
            "index": 18,
            "type": "tau"
        }
    },
    {
        "lhs": {
            "index": 18,
            "type": "tau"
        },
        "rhs": "Top"
    },
    {
        "reference": {
            "name": "BaseVB",
            "source": {
                "uri": "Example 1/CSharp/Program.cs",
                "range": {
                    "start": {
                        "line": 5,
                        "character": 15
                    },
                    "end": {
                        "line": 5,
                        "character": 21
                    }
                },
                "language": "C#"
            }
        },
        "scope": {
            "index": 14,
            "type": "scope"
        }
    }
]
const substitution = [
    [
        {
            "index": 6,
            "type": "tau"
        },
        {
            "tag": "tau",
            "data": "BaseVB"
        }
    ],
    [
        {
            "index": 8,
            "type": "tau"
        },
        {
            "tag": "tau",
            "data": "Integer"
        }
    ],
    [
        {
            "index": 12,
            "type": "delta"
        },
        {
            "tag": "delta",
            "data": {
                "name": "VB",
                "source": {
                    "uri": "Example 1/VB/Class1.vb",
                    "range": {
                        "start": {
                            "line": 1,
                            "character": 1
                        },
                        "end": {
                            "line": 1,
                            "character": 1
                        }
                    },
                    "language": "Visual Basic"
                }
            }
        }
    ],
    [
        {
            "index": 13,
            "type": "sigma"
        },
        {
            "tag": "sigma",
            "data": {
                "index": 5,
                "type": "scope"
            }
        }
    ],
    [
        {
            "index": 15,
            "type": "delta"
        },
        {
            "tag": "delta",
            "data": {
                "name": "BaseVB",
                "source": {
                    "uri": "Example 1/VB/Class1.vb",
                    "range": {
                        "start": {
                            "line": 1,
                            "character": 14
                        },
                        "end": {
                            "line": 1,
                            "character": 20
                        }
                    },
                    "language": "Visual Basic"
                }
            }
        }
    ],
    [
        {
            "index": 16,
            "type": "sigma"
        },
        {
            "tag": "sigma",
            "data": {
                "index": 7,
                "type": "scope"
            }
        }
    ],
    [
        {
            "index": 17,
            "type": "tau"
        },
        {
            "tag": "tau",
            "data": "Integer"
        }
    ],
    [
        {
            "index": 18,
            "type": "tau"
        },
        {
            "tag": "tau",
            "data": "Top"
        }
    ]
]
\end{minted}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "rpz"
%%% End: 
